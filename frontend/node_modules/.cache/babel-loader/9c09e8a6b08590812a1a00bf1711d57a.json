{"ast":null,"code":"var _jsxFileName = \"/home/fernando/engenharia-de-software-2020.2e/frontend/src/pages/Admin/SendLotToUnit/index.js\",\n    _s = $RefreshSig$();\n\nimport styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { getVaccineList } from '../../../services/api';\nimport { PageWrapper, PageTitle, StyledForm } from '../../../components/shared/CommonStyles';\nimport UserContext from '../../../contexts/UserContext';\nimport { useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SendLotToUnit() {\n  _s();\n\n  const [namesList, setNamesList] = useState([]); // lista de opcoes da vacina recebidas pela API\n\n  const [name, setName] = useState('');\n  const [qtdDoses, setQtdDosed] = useState('');\n  const [expirationDate, setExpirationDate] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    token\n  } = useContext(UserContext);\n  useEffect(loadVaccineNames, [token]);\n\n  function loadVaccineNames() {\n    getToday();\n    let vaccines = getVaccineList({\n      token\n    });\n    setNamesList(vaccines.map(vac => vac.nomeVacina));\n  }\n\n  function submitInput(e) {\n    e.preventDefault();\n    console.log(name, qtdDoses, expirationDate);\n  }\n\n  function getToday() {\n    let today = new Date();\n    let dd = today.getDate();\n    let mm = today.getMonth() + 1; //January is 0!\n\n    let yyyy = today.getFullYear();\n\n    if (dd < 10) {\n      dd = '0' + dd;\n    }\n\n    if (mm < 10) {\n      mm = '0' + mm;\n    }\n\n    let todayToString = `${yyyy}-${mm}-${dd}`;\n    console.log(todayToString);\n    return todayToString.toString;\n  }\n\n  return /*#__PURE__*/_jsxDEV(PageWrapper, {\n    children: /*#__PURE__*/_jsxDEV(SignupWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n        children: \"Cadastrar Lote da Vacina\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledForm, {\n        onSubmit: submitInput,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"names\",\n          children: \"Nome da Vacina: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          value: name,\n          onChange: e => setName(e.target.value),\n          list: \"names\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n          id: \"names\",\n          children: namesList.map(name => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"qtd-doses\",\n          children: \"Quantidade de Vacinas: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"doses\",\n          value: qtdDoses,\n          onChange: e => setQtdDosed(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"expiration-date\",\n          children: \"Data de Validade: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"expiration-date\",\n          value: expirationDate,\n          min: () => getToday().toString,\n          onChange: e => setExpirationDate(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          disabled: isLoading,\n          value: \"Cadastrar Vacina\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SendLotToUnit, \"AhjMUm+35LzkB0rP4Tg8+rTJ9Aw=\");\n\n_c = SendLotToUnit;\nconst SignupWrapper = styled.div`\n  width: 800px;\n`;\n_c2 = SignupWrapper;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SendLotToUnit\");\n$RefreshReg$(_c2, \"SignupWrapper\");","map":{"version":3,"sources":["/home/fernando/engenharia-de-software-2020.2e/frontend/src/pages/Admin/SendLotToUnit/index.js"],"names":["styled","useState","useEffect","getVaccineList","PageWrapper","PageTitle","StyledForm","UserContext","useContext","SendLotToUnit","namesList","setNamesList","name","setName","qtdDoses","setQtdDosed","expirationDate","setExpirationDate","isLoading","setIsLoading","token","loadVaccineNames","getToday","vaccines","map","vac","nomeVacina","submitInput","e","preventDefault","console","log","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","todayToString","toString","target","value","SignupWrapper","div"],"mappings":"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","sourcesContent":["import styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { getVaccineList } from '../../../services/api';\nimport {\n  PageWrapper,\n  PageTitle,\n  StyledForm,\n} from '../../../components/shared/CommonStyles';\nimport UserContext from '../../../contexts/UserContext';\nimport { useContext } from 'react';\n\nexport default function SendLotToUnit() {\n  const [namesList, setNamesList] = useState([]); // lista de opcoes da vacina recebidas pela API\n  const [name, setName] = useState('');\n  const [qtdDoses, setQtdDosed] = useState('');\n  const [expirationDate, setExpirationDate] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { token } = useContext(UserContext);\n\n  useEffect(loadVaccineNames, [token]);\n\n  function loadVaccineNames() {\n    getToday();\n    let vaccines = getVaccineList({ token });\n    setNamesList(vaccines.map((vac) => vac.nomeVacina));\n  }\n\n  function submitInput(e) {\n    e.preventDefault();\n    console.log(name, qtdDoses, expirationDate);\n  }\n\n  function getToday() {\n    let today = new Date();\n    let dd = today.getDate();\n    let mm = today.getMonth() + 1; //January is 0!\n    let yyyy = today.getFullYear();\n\n    if (dd < 10) {\n      dd = '0' + dd;\n    }\n\n    if (mm < 10) {\n      mm = '0' + mm;\n    }\n\n    let todayToString = `${yyyy}-${mm}-${dd}`;\n    console.log(todayToString);\n    return todayToString.toString;\n  }\n\n  return (\n    <PageWrapper>\n      <SignupWrapper>\n        <PageTitle>Cadastrar Lote da Vacina</PageTitle>\n\n        <StyledForm onSubmit={submitInput}>\n          <label htmlFor=\"names\">Nome da Vacina: </label>\n          <input\n            required\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            list=\"names\"\n          />\n          <datalist id=\"names\">\n            {namesList.map((name) => (\n              <option value={name} />\n            ))}\n          </datalist>\n\n          <label htmlFor=\"qtd-doses\">Quantidade de Vacinas: </label>\n          <input\n            type=\"text\"\n            id=\"doses\"\n            value={qtdDoses}\n            onChange={(e) => setQtdDosed(e.target.value)}\n            required\n          />\n\n          <label htmlFor=\"expiration-date\">Data de Validade: </label>\n          <input\n            type=\"date\"\n            id=\"expiration-date\"\n            value={expirationDate}\n            min={() => getToday().toString}\n            onChange={(e) => setExpirationDate(e.target.value)}\n            required\n          />\n          <input type=\"submit\" disabled={isLoading} value=\"Cadastrar Vacina\" />\n        </StyledForm>\n      </SignupWrapper>\n    </PageWrapper>\n  );\n}\n\nconst SignupWrapper = styled.div`\n  width: 800px;\n`;\n"]},"metadata":{},"sourceType":"module"}